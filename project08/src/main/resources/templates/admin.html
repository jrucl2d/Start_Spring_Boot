<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
>

<head>
    <title>껄껄</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
    <h1>Index Page for Admin!!</h1>
    <hr>
    <h3 sec:authentication="name">Spring security username</h3>
    <h3>[[${#authentication.name}]]</h3>
    <hr>

<!--    admin관련 url에는 접근권한 존재-->
    <p sec:authorize-url="/admin/aaa">
        <a href="/admin/aaa">ADMIN AAA</a>
    </p>

<!--    manager관련 url에는 접근권한 없음-->
<!--    <p sec:authorize-url="/manager/aaa">-->
<!--        <a href="/manager/aaa">MANAGER AAA</a>-->
<!--    </p>-->

    <h1 sec:authorize="hasRole('ROLE_ADMIN')">
        이 컨텐츠는 관리자에게만 보임
    </h1>
    <hr>
    <div>[[${#authentication.principal}]]</div>
    <br>
    <div>[[${#authentication.principal.member}]]</div>
    <br>
    <div>[[${#authentication.principal.member.uname}]]</div>
    <hr>
    <div th:with="member=${#authentication.principal.member}">
        <p>[[${member.uid}]]</p>
        <p>[[${member.upw}]]</p>
        <p>[[${member.uname}]]</p>
    </div>

</body>
</html>